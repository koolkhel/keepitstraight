<html>
<head>
    <link href="../../assets/5.0.18/tapestry/default.css" rel="stylesheet" type="text/css">
    <link href="../../assets/kis/components/cascadecombo.css" rel="stylesheet" type="text/css">
    <title>Keep IT Straight — Submit fact</title>
</head>
<body>
<div align="center">
    <table>
        <tbody>
        <tr>
            <td align="left"><img src="../../images/title.png"></td>
        </tr>
        <tr>
            <td>

                <div align="right">

                    <br>

                    <span title="Click to Edit" id="inPlaceEditor">bitterman</span>

                </div>
                <hr>
                <div id="debugBox"></div>
                <hr>
                <br>

                <form action="submit.submitfact" id="submitFact" method="post" name="submitFact">
                    <div style="display: none;" class=""><input name="t:formdata"
                                                                value="H4sIAAAAAAAAAJVRsU7DMBC9VmoF6obEiAoIVmehCyx0gKlCiMAHOM41BBw72FcSFhb+g4W14ic6sPEPXRALI0wM2InEgghlOr3TvXvv3k3foFNswvql0oXEOMFgzAXZIJxEWUq7HlBKEq2BgTYJ4zkX58iI52jJ3AyY0AZlGrGIW2TDyDUd5TBFGW+FSJN8+2zWm68+fbahNYKe0IqMlkc8Q4KV0QW/5oHkKglCMqlK9sqcYNmLnnrRBY0N/2vs2GiB1larrE21mj3GO+OP++c2QJkXfVj7RdWiRAev4BaAoFvDP+f9eKfYgH7TLVh+712qAnCNBTj17gYHVXEh7TeGJHSWa4WKLKuJPzN6mZ+83x08vNaPdIdlbtw/0lto+cd1a7EvvocO4VMCAAA="
                                                                type="hidden"></div>
                    <table border="0">
                        <tbody>
                        <tr>
                            <td valign="top">
                                <div align="right">Введите краткое описание факта:</div>

                            </td>
                        </tr>

                        <tr>
                            <td>
                                <input id="factTitle" name="factTitle" size="50" style="width: 400px;" type="text"><img
                                    style="display: none;" alt="" class="t-error-icon" id="factTitle:icon"
                                    src="../../assets/5.0.18/tapestry/spacer.gif">
                            </td>
                        </tr>
                        <tr>

                            <td align="right">
                                Проект:
                            </td>
                        </tr>
                        <tr>
                            <td align="right">
                                <select id="select" name="select">
                                    <option value=""></option>
                                    <option selected="selected" value="1">Keep IT Straight</option>
                                    <option value="2">Archivarius</option>
                                    <option value="3">Mobilius trackerus</option>
                                </select><img style="display: none;" alt="" class="t-error-icon" id="select:icon"
                                              src="../../assets/5.0.18/tapestry/spacer.gif">
                            </td>

                        </tr>
                        <tr>
                            <td valign="top">
                                <div align="right">Введите содержательную часть факта:</div>
                            </td>
                        </tr>
                        <tr>
                            <td>

                                <textarea onkeypress="updateTextAreaSize(this, 7)" cols="50" id="factText"
                                          name="factText" rows="7" style="width: 400px; height: 8em;"
                                          wrap="off"></textarea><img style="display: none;" alt="" class="t-error-icon"
                                                                     id="factText:icon"
                                                                     src="../../assets/5.0.18/tapestry/spacer.gif">
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <br>

                    <div id="cascadeDiv">
                        <div id="cascadeCombo0"><select id="0comboboxIdNo0"
                                                        onchange="cascadeWatchers[0].handleChange(this);" size="7">
                            <option value="93">Apache Tapestry</option>
                            <option value="96">IntelliJ IDEA</option>
                            <option value="97">Programming languages</option>
                        </select><select class="cascadeCombobox" size="7"
                                         onchange="cascadeWatchers[0].handleChange(this);" id="0comboboxIdNo97">
                            <option value="98">Java</option>
                            <option value="99">javascript</option>
                        </select><a href="#" id="cascadeCombo0href0" onclick="deleteRow(0)">Добавить предметную
                            область</a></div>
                        <div id="cascadeCombo1"><select class="cascadeCombobox" size="7"
                                                        onchange="cascadeWatchers[1].handleChange(this);"
                                                        id="1comboboxIdNo0">
                            <option value="93">Apache Tapestry</option>
                            <option value="96">IntelliJ IDEA</option>
                            <option value="97">Programming languages</option>
                        </select><a href="#" onclick="addNewRow()" id="cascadeCombo1href1">Добавить предметную
                            область</a></div>
                    </div>

                    <br>
                    <input id="factSubmit" name="submit" value="Add new fact" type="submit">
                </form>


            </td>
        </tr>
        </tbody>
    </table>
</div>
<script src="../../assets/5.0.18/scriptaculous/prototype.js" type="text/javascript"></script>
<script src="../../assets/5.0.18/scriptaculous/scriptaculous.js" type="text/javascript"></script>
<script src="../../assets/5.0.18/scriptaculous/effects.js" type="text/javascript"></script>
<script src="../../assets/5.0.18/tapestry/tapestry.js" type="text/javascript"></script>
<script src="../../assets/5.0.18/scriptaculous/controls.js" type="text/javascript"></script>
<script src="../../assets/kis/mixins/util.js" type="text/javascript"></script>
<script src="../../assets/kis/components/cascadecombo1.js" type="text/javascript"></script>
<script src="../../assets/kis/components/shortcut.js" type="text/javascript"></script>
<script type="text/javascript">
    <!--
    Tapestry.DEBUG_ENABLED = true;
    Tapestry.onDOMLoaded(function() {
        new Ajax.InPlaceEditor('inPlaceEditor', '/keepitstraight/knowledge/facts/submit.login.inplaceeditor/bitterman', {cancelControl: 'button', cancelText: 'Cancel', clickToEditText: 'Click to Edit', savingText: 'Saving ...', okText: 'Save', htmlResponse: true, size: 10, stripLoadedTextTags: true});
        $('factText').setAttribute("onkeypress", "updateTextAreaSize(this, 7)");
        updateTextAreaSize($('factText'), 7);
        divId = "cascadeCombo";
        cascadeWatchers.push(new ComboboxWatcher(0, null));
        cascadeUrl = "http://localhost:5000/keepitstraight/knowledge/facts/submit.domaincombos:getchildren/";
        cascadeAddUrl = "http://localhost:5000/keepitstraight/knowledge/facts/submit.domaincombos:addwatcher/";
        cascadeDeleteUrl = "http://localhost:5000/keepitstraight/knowledge/facts/submit.domaincombos:deletewatcher/";
        cascadeWatchers[0].handleChange($('0comboboxIdNo0'));
        shortcut.add("ctrl+enter", function() {
            $('factSubmit').click();
        }, {'type': 'keydown','propagate': false});
        shortcut.add("alt+t", function() {
            $('factTitle').activate();
        }, {'type': 'keydown','propagate': false});
        shortcut.add("alt+c", function() {
            $('factText').activate();
        }, {'type': 'keydown','propagate': false});
        shortcut.add("enter", function() {
            $('factText').activate();
        }, {'type': 'keydown','propagate': false,'target': $('factTitle')});
        $('factTitle').activate();
        Tapestry.init({"validate":[["factTitle",[["required","You must provide a value for Fact Title."]]],["factText",[["required","You must provide a value for Fact Text."]]]]});
    });
    // -->

</script>
</body>
<div firebugCommandLineAttached="true" FirebugVersion="1.3.3" style="display: none;" id="_firebugConsole"></div>
<script id="_firebugCommandLineInjector" type="text/javascript">/* See license.txt for terms of usage */

var _FirebugCommandLine =
{
    init: function()
    {
        // Define console functions.
        var commands = ["$", "$$", "$x", "$n", "cd", "clear", "inspect", "keys",
            "values", "debug", "undebug", "monitor", "unmonitor",
            "monitorEvents", "unmonitorEvents", "profile", "profileEnd", "copy"];
        for (var i = 0; i < commands.length; i++)
        {
            var command = commands[i];

            // If the method is already defined, don't override it.
            if (window[command])
                continue;

            this[command] = new Function(
                    "return window.console.notifyFirebug(arguments, '" + command + "', 'firebugExecuteCommand');");
        }

        // Define console shortcuts
        var consoleShortcuts = ["dir", "dirxml"];
        for (var i = 0; i < consoleShortcuts.length; i++)
        {
            var command = consoleShortcuts[i];
            this[command] = new Function("return window.console." + command + ".apply(window.console, arguments)");
        }

        // Define console variables.
        var props = ["$0", "$1"];
        for (var j = 0; j < props.length; j++)
        {
            var prop = props[j];
            if (top[prop])
                continue;

            this.__defineGetter__(prop, new Function(
                    "return window.console.notifyFirebug(arguments, '" + prop + "', 'firebugExecuteCommand');"));
        }

        this.attachCommandLine();
    },

    attachCommandLine: function()
    {
        var element = window.console.getFirebugElement();
        var self = this;
        element.addEventListener("firebugCommandLine", function _firebugEvalEvent(event)
        {
            //window.dump("_firebugEvalEvent firebugCommandLine\n");
            var element = event.target;
            var expr = element.getAttribute("expr"); // see commandLine.js
            self.evaluate(expr);
            //window.dump("_firebugEvalEvent did evaluate on "+expr+"\n");
        }, true);
        element.setAttribute("firebugCommandLineAttached", "true")
        //window.dump("Added listener for firebugCommandLine event");
    },

    evaluate: function(expr)
    {
        try
        {
            var result = window.eval(expr);
            if (typeof result != "undefined")
                window.console.notifyFirebug([result], "evaluated", "firebugAppendConsole");
        }
        catch(exc)
        {
            var result = exc;
            result.source = expr;
            window.console.notifyFirebug([result], "evaluateError", "firebugAppendConsole");
        }
    },
};

_FirebugCommandLine.init();
</script>
</html>